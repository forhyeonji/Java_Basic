<?xml version="1.0" encoding="UTF-8"?>


<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="org.hj.mapper.BoardMapper">
  		<insert id="write">
  			insert into board(title, content)
			values(#{title}, #{content})
  		</insert>
  		
  		<select id="list" resultType="org.hj.model.BoardVO">
  			select *
			from (
			select @rownum:= @rownum+1 rownum, b.*
			from board b, (select @rownum:=0) as tmp
			order by bno desc
			) as boardlist
			
			<![CDATA[
			where rownum > (#{pageNum}-1)*#{amount} and rownum <= #{pageNum}*#{amount}
  			]]>
  			
  		</select>
  		
  		<select id="detail" resultType="org.hj.model.BoardVO">
  			select * from board
  			where bno=#{bno}
  		</select>
  		
  		<update id="modify">
  			update board
  			set title=#{title}, content=#{content}
  			where bno=#{bno}
  		</update>
  		
  		<delete id="remove">
  			delete from board
  			where bno=#{bno}
  		</delete>
  		
  		<select id="total" resultType="int">
  		<!-- 건수만 실어서 보내기 때문에 resultType="org.hj.model.BoardVO"에 실을필요 없음 -->
  			select count(*) from board
  		</select>
  		
  		
  </mapper>